<!DOCTYPE html>
<html>
<head>
  <title>Romaine</title>

  <script src="bower_components/webcomponentsjs/webcomponents.js"></script>

  <link rel="import" href="bower_components/core-icons/core-icons.html">
  <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
  <link rel="import" href="bower_components/core-selector/core-selector.html">
  <link rel="import" href="bower_components/font-roboto/roboto.html">
  <link rel="import" href="bower_components/paper-button/paper-button.html">
  <link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
  <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
  <link rel="import" href="bower_components/paper-fab/paper-fab.html">
  <link rel="import" href="bower_components/paper-tabs/paper-tabs.html">
  <link rel="import" href="bower_components/paper-toast/paper-toast.html">
  <link rel="import" href="bower_components/paper-item/paper-item.html">
  <link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
  <link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
  <link rel="import" href="bower_components/core-animated-pages/transitions/slide-from-right.html">
  <link rel="import" href="bower_components/core-collapse/core-collapse.html">
  <link rel="import" href="bower_components/paper-progress/paper-progress.html">

  <link rel="import" href="elements/dynamic-list.html">

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="create-chroot.css">
</head>

<body fullbleed layout vertical unresolved>
  <core-toolbar class="draggable">
    <span flex>Build New Chroot</span>
    <paper-icon-button icon="close"></paper-icon-button>
  </core-toolbar>

  <core-header-panel mode="waterfall" flex>
    <paper-tabs class="core-header animate" selected="distro" valueattr="key" class="fit">
      <paper-tab key="distro">Distribution</paper-tab>
      <paper-tab key="release">Release</paper-tab>
      <paper-tab key="targets">Targets</paper-tab>
      <paper-tab key="settings">Settings</paper-tab>
      <paper-tab key="review">Review</paper-tab>
    </paper-tabs>

    <div class="content">
      <core-animated-pages selected="distro" valueattr="key" transitions="slide-from-right" flex>
        <section key="distro">
          <h3>Select a Linux distribution to use</h3>
          <dynamic-list id="distros"></dynamic-list>
        </section>

        <section key="release">
          <h3>Choose a distro version</h3>
          <dynamic-list id="releases"></dynamic-list>
        </section>

        <section key="targets">
          <h3>Select components to install in the chroot</h3>
          <dynamic-list id="targets" multi="true"></dynamic-list>
        </section>

        <section key="settings">
          <h3>Extra settings for the chroot setup</h3>

          <core-label horizontal layout>
            <paper-checkbox for id="encrypt"></paper-checkbox>
            <div vertical layout>
              <h2>Encrypt</h2>
              <div>Require a password to unlock the chroot whenever you want to use it.</div>
            </div>
          </core-label>

          <core-label horizontal layout>
            <paper-checkbox for id="update"></paper-checkbox>
            <div vertical layout>
              <h2>Update</h2>
              <div>Update the existing chroot of this release, if any. Allows for adding targets.</div>
            </div>
          </core-label>
        </section>

        <section key="review" vertical center layout>
          <h3>Ready to go!</h3>
          <div>
            <paper-button id="build-chroot" tabindex="0">
              build chroot &nbsp;
              <core-icon icon="input"></core-icon>
            </paper-button>
          </div>
        </section>

        <section key="building" vertical layout>
          <paper-progress indeterminate style="width: auto; margin: 2em;"></paper-progress>
          <p self-center>building... this might take a while!</p>
        </section>
      </core-animated-pages>
    </div>
  </core-header-panel>

  <core-collapse id="step-bar">
    <core-toolbar>
      <span flex></span>
      <paper-button id="next-step" tabindex="0">
        next step &nbsp;
        <core-icon icon="arrow-forward"></core-icon>
      </paper-button>
    </core-toolbar>
  </core-collapse>

  <core-collapse id="shell">
    <core-toolbar style='background-color: #222; color: #ccc;'>
      <pre flex class="shell">sudo sh ~/Downloads/crouton <span id="cmd-line"></span></pre>
    </core-toolbar>
  </core-collapse>

  <core-collapse id="output" style="background-color: #333; color: #ccc; height: 300px;" fixedSize>
    <pre id="actual-output" style="margin: 1em 2em;">...</pre>
  </core-collapse>

  <script src="common.js"></script>
  <script src="create-chroot.js"></script>
</body>